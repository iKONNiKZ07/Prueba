<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Scarlett â¤ï¸</title>

<style>
* {
  box-sizing: border-box;
  font-family: 'Arial', sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(180deg,#ffb3c6,#ff758f,#ff9a76);
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.screen {
  position: absolute;
  width: 100%;
  height: 100%;
  display: none;
  justify-content: center;
  align-items: center;
  animation: fadeIn 1.2s ease;
}

.screen.active {
  display: flex;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.98); }
  to { opacity: 1; transform: scale(1); }
}

.card {
  background: rgba(255,255,255,0.92);
  padding: 35px;
  border-radius: 20px;
  width: 90%;
  max-width: 500px;
  text-align: center;
  box-shadow: 0 25px 50px rgba(0,0,0,0.25);
  transform: perspective(800px) rotateX(3deg);
}

h1, h2, p {
  margin-bottom: 20px;
}

button {
  padding: 14px 22px;
  border: none;
  border-radius: 30px;
  background: #ff4d6d;
  color: white;
  font-size: 16px;
  cursor: pointer;
  margin: 10px;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
}

button:hover {
  transform: scale(1.08);
}

.heart-float {
  position: absolute;
  bottom: -40px;
  animation: floatUp linear forwards;
  opacity: 0.8;
}

@keyframes floatUp {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(-120vh); opacity: 0; }
}

.envelope {
  width: 260px;
  height: 180px;
  background: #ffd6a5;
  border-radius: 12px;
  position: relative;
  cursor: pointer;
  box-shadow: 0 15px 30px rgba(0,0,0,0.3);
}

.envelope::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(#ffd6a5,#ffb703);
  clip-path: polygon(0 0,100% 0,50% 50%);
}

.seal {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 36px;
}

.hidden {
  display: none;
}

.typing {
  border-right: 2px solid #ff4d6d;
  white-space: pre-wrap;
  overflow: hidden;
}

</style>
</head>
<body>

<!-- INTRO -->
<div class="screen active" id="intro">
  <div class="card">
    <h1>ğŸ’˜ Bienvenida ğŸ’˜</h1>
    <p>PreparÃ© este entretenido juego con mucho amor  
    por nuestro 14 de febrero ğŸŒ¹â¤ï¸</p>
    <button onclick="next('valentin')">Empezar ğŸ’•</button>
  </div>
</div>

<!-- SOBRE -->
<div class="screen" id="valentin">
  <div class="card">
    <h2>Para ti, Scarlett ğŸ’Œ</h2>
    <p>ApretÃ¡ el corazÃ³n para abrir la carta â¤ï¸</p>
    <div class="envelope" onclick="openLetter()">
      <div class="seal">â¤ï¸</div>
    </div>
  </div>
</div>

<!-- CARTA -->
<div class="screen" id="letter">
  <div class="card">
    <h2>Â¿Quieres ser mi ValentÃ­n este aÃ±o? ğŸ’•</h2>
    <button onclick="next('game')">SÃ­ ğŸ˜</button>
    <button onclick="growYes()">No ğŸ˜…</button>
  </div>
</div>

<!-- JUEGO -->
<div class="screen" id="game">
  <div class="card">
    <h2 id="question"></h2>
    <div id="options"></div>
  </div>
</div>

<!-- FINAL -->
<div class="screen" id="final">
  <div class="card">
    <h2>ğŸ’– Para Scarlett ğŸ’–</h2>
    <p id="time"></p>
    <p class="typing" id="finalText"></p>
    <button onclick="window.open('https://music.youtube.com/watch?v=4eP6Z2HYMBU&si=SRN7HBwaXa-AyIEs')">
      ğŸ¶ Reproducir nuestra canciÃ³n
    </button>
  </div>
</div>

<script>
let screens = document.querySelectorAll('.screen');

function next(id) {
  screens.forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function openLetter() {
  next('letter');
}

let yesScale = 1;
function growYes() {
  yesScale += 0.3;
  document.querySelector('#letter button').style.transform = `scale(${yesScale})`;
}

const questions = [
  {
    q: "Â¿DÃ³nde fue nuestro primer beso? ğŸ˜˜",
    o: ["Metro","Mall","Paradero"],
    c: 2
  },
  {
    q: "Â¿QuÃ© equipos sigo?",
    o: ["Colo Colo y Barcelona","La U y Real Madrid","Real Madrid y UniÃ³n SF","Ninguna"],
    c: 3
  },
  {
    q: "Â¿Uno de los primeros regalos?",
    o: ["Cartera","Cuadro de conejito","Flores"],
    c: 1
  },
  {
    q: "Nombres de nuestros futuros hijos",
    o: ["Christopher y Alana","MilÃ¡n y MÃ­a","Eustaquio y BrÃ­gida"],
    c: 1
  },
  {
    q: "Â¿Me amas mÃ¡s que yo a ti?",
    o: ["SÃ­","No"],
    c: 1
  }
];

let idx = 0;

function showQuestion() {
  if (idx >= questions.length) {
    next('final');
    startFinal();
    return;
  }
  let q = questions[idx];
  document.getElementById('question').innerText = q.q;
  let opt = document.getElementById('options');
  opt.innerHTML = "";
  q.o.forEach((text,i)=>{
    let b = document.createElement('button');
    b.innerText = text;
    b.onclick = ()=> {
      if (i !== q.c) alert("Que sopenca jajaja ğŸ¤­ğŸ’” pero te amo muche â¤ï¸");
      idx++;
      showQuestion();
    };
    opt.appendChild(b);
  });
}

showQuestion();

const startDate = new Date("2015-11-01");

function updateTime() {
  let now = new Date();
  let diff = now - startDate;
  let s = Math.floor(diff/1000);
  let m = Math.floor(s/60); s%=60;
  let h = Math.floor(m/60); m%=60;
  let d = Math.floor(h/24); h%=24;
  let y = Math.floor(d/365);
  d%=365;
  document.getElementById('time').innerText =
    `Llevamos ${y} aÃ±os, ${d} dÃ­as, ${h} horas, ${m} minutos y ${s} segundos â¤ï¸`;
}

function startFinal() {
  setInterval(updateTime,1000);
  typeText();
  hearts();
}

const text = `Gracias por ser mi San ValentÃ­n por casi una dÃ©cada.

9 aÃ±os y 3 meses caminando juntos,
enfrentando dificultades,
aprendiendo,
creciendo.

Estoy ansioso por todo lo que se nos viene viviendo juntos,
sÃ© que sabremos salir adelante de cualquier cosa.

Eres lo mejor que tengo en mi vida.
Te amo hoy, maÃ±ana y siempre. â¤ï¸`;

function typeText() {
  let i = 0;
  let el = document.getElementById('finalText');
  let interval = setInterval(()=>{
    el.innerText += text[i];
    i++;
    if (i >= text.length) clearInterval(interval);
  },45);
}

function hearts() {
  setInterval(()=>{
    let h = document.createElement('div');
    h.className = 'heart-float';
    h.innerText = Math.random()>0.5 ? "â¤ï¸" : "ğŸ˜";
    h.style.left = Math.random()*100 + "vw";
    h.style.fontSize = 20 + Math.random()*30 + "px";
    h.style.animationDuration = 6 + Math.random()*6 + "s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),12000);
  },400);
}
</script>

</body>
</html>
