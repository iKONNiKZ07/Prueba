<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>San ValentÃ­n ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
    box-sizing:border-box;
    font-family:'Arial',sans-serif;
}

/* ğŸŒ… FONDO ATARDECER ANIMADO */
body{
    margin:0;
    height:100vh;
    overflow:hidden;
    color:#fff;
    background:linear-gradient(-45deg,#ff512f,#f09819,#ff9a9e,#845ec2);
    background-size:400% 400%;
    animation:sunset 18s ease infinite;
}

@keyframes sunset{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

/* PANTALLAS */
.screen{
    position:absolute;
    width:100%;
    height:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    opacity:0;
    transform:translateY(20px);
    transition:opacity 1s ease,transform 1s ease;
    pointer-events:none;
    padding:20px;
}

.screen.active{
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
}

/* CAJA OSCURA PARA CONTRASTE */
.box{
    background:rgba(0,0,0,0.45);
    padding:30px;
    border-radius:25px;
    max-width:760px;
    backdrop-filter:blur(6px);
}

/* TEXTO */
h1{
    font-size:2.2em;
    margin-bottom:15px;
    text-shadow:0 3px 10px rgba(0,0,0,.6);
    min-height:1.4em;
}

p{
    font-size:1.05em;
    line-height:1.6;
    text-shadow:0 2px 8px rgba(0,0,0,.6);
    min-height:1.4em;
}

.counter{
    font-weight:bold;
    margin:15px 0;
    text-shadow:0 2px 8px rgba(0,0,0,.6);
    min-height:1.4em;
}

/* BOTONES */
button{
    background:#ff4d6d;
    border:none;
    color:white;
    padding:12px 24px;
    border-radius:25px;
    font-size:1em;
    margin:10px;
    cursor:pointer;
    transition:transform .2s,background .2s;
}

button:hover{
    transform:scale(1.05);
    background:#ff1e4d;
}

/* QUIZ */
.options button{
    display:block;
    width:100%;
    margin:8px 0;
}

#feedback{
    margin-top:15px;
    min-height:30px;
}

/* EMOJIS FLOTANDO */
.emoji{
    position:absolute;
    font-size:22px;
    animation:float 12s linear infinite;
    opacity:.9;
}

@keyframes float{
    0%{transform:translateY(110vh)}
    100%{transform:translateY(-10vh)}
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro" class="screen active">
    <div class="box">
        <h1>ğŸ’– Bienvenida ğŸ’–</h1>
        <p>
Bienvenida a este entretenido juego que hice por nuestro  
<strong>14 de febrero</strong> ğŸŒ¹ğŸ’˜  
<br><br>
Veamos cuÃ¡nto recuerdas de nosotros ğŸ˜
        </p>
        <button onclick="nextScreen('quiz')">Empezar ğŸ’•</button>
    </div>
</div>

<!-- QUIZ -->
<div id="quiz" class="screen">
    <div class="box">
        <h1 id="question"></h1>
        <div class="options" id="options"></div>
        <div id="feedback"></div>
    </div>
</div>

<!-- FINAL -->
<div id="final" class="screen">
    <div class="box">
        <h1 id="finalTitle"></h1>
        <div class="counter" id="counter"></div>

        <p id="text1"></p>
        <p id="text2"></p>
        <p id="text3"></p>

        <button onclick="window.open('https://music.youtube.com/watch?v=4eP6Z2HYMBU&si=SRN7HBwaXa-AyIEs','_blank')">
ğŸ¶ Reproducir nuestra canciÃ³n
        </button>

        <button onclick="location.reload()">Volver a ver ğŸ’•</button>
    </div>
</div>

<script>
/* EMOJIS */
const emojis=["â¤ï¸","ğŸ’–","ğŸ˜","ğŸŒ¸","ğŸ’˜"];
for(let i=0;i<50;i++){
    const e=document.createElement("div");
    e.className="emoji";
    e.textContent=emojis[Math.random()*emojis.length|0];
    e.style.left=Math.random()*100+"vw";
    e.style.animationDuration=6+Math.random()*10+"s";
    e.style.fontSize=16+Math.random()*24+"px";
    document.body.appendChild(e);
}

/* QUIZ */
const questions=[
{q:"Â¿DÃ³nde fue nuestro primer beso? ğŸ˜˜",o:["En el metro","En el Mall","En el paradero de la micro"],c:2},
{q:"Â¿CuÃ¡les son los 2 equipos de fÃºtbol que sigo?",o:["Colo Colo y Barcelona","La U y Real Madrid","Real Madrid y UniÃ³n San Felipe","Ninguna de las anteriores"],c:3},
{q:"Â¿CuÃ¡l fue uno de los primeros regalos que te hice?",o:["Una cartera","Un cuadro de conejito","Un ramo de flores"],c:1},
{q:"Â¿CuÃ¡les son los nombres que elegimos para nuestros futuros hijos?",o:["Christopher y Alana","MilÃ¡n y MÃ­a","Eustaquio y BrÃ­gida"],c:1},
{q:"Â¿TÃº crees que me amas mÃ¡s que yo a ti?",o:["SÃ­","No"],c:1}
];

let current=0;

function showQuestion(){
    question.textContent=questions[current].q;
    options.innerHTML="";
    feedback.textContent="";
    questions[current].o.forEach((t,i)=>{
        const b=document.createElement("button");
        b.textContent=t;
        b.onclick=()=>answer(i);
        options.appendChild(b);
    });
}

function answer(i){
    const fails=[
        "No era esaâ€¦ pero igual te amo ğŸ˜˜",
        "Que sopenca jajaja ğŸ¤­ pero te amo muche â¤ï¸"
    ];
    feedback.textContent=i===questions[current].c?"Correcto ğŸ¥°":fails[Math.random()*fails.length|0];
    setTimeout(()=>{
        current++;
        current<questions.length?showQuestion():nextScreen("final",startFinal);
    },1200);
}

function nextScreen(id,cb){
    document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
    const el=document.getElementById(id);
    el.classList.add("active");
    if(cb) setTimeout(cb,800);
    if(id==="quiz") showQuestion();
}

/* TYPEWRITER */
function typeWriter(el,text,speed=40){
    let i=0;
    el.textContent="";
    const t=setInterval(()=>{
        el.textContent+=text.charAt(i);
        i++;
        if(i>=text.length) clearInterval(t);
    },speed);
}

/* CONTADOR REAL */
const startDate=new Date(2015,10,14);

function liveCounter(){
    const now=new Date();
    let diff=Math.floor((now-startDate)/1000);
    const days=Math.floor(diff/86400)%30;
    const hours=Math.floor(diff/3600)%24;
    const minutes=Math.floor(diff/60)%60;
    const seconds=diff%60;

    counter.textContent=
    `9 aÃ±os Â· 3 meses Â· ${days} dÃ­as Â· ${hours} horas Â· ${minutes} minutos Â· ${seconds} segundos`;
}

/* FINAL */
function startFinal(){
    typeWriter(finalTitle,"ğŸ’– Nuestro tiempo juntos ğŸ’–",50);
    setInterval(liveCounter,1000);

    setTimeout(()=>typeWriter(text1,
    "Todo este tiempo no ha sido casualidad. Han sido aÃ±os de risas, aprendizajes, abrazos y momentos que nos marcaron para siempre."),1500);

    setTimeout(()=>typeWriter(text2,
    "Estoy ansioso por todo lo que se nos viene viviendo juntos, por las dificultades que enfrentaremos y porque sÃ© que juntos siempre sabremos salir adelante."),4200);

    setTimeout(()=>typeWriter(text3,
    "Nunca lo olvides: eres lo mejor que tengo en mi vida, mi compaÃ±era, mi hogar y mi amor â¤ï¸"),7200);
}
</script>

</body>
</html>
