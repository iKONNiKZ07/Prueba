<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Para Scarlett â¤ï¸</title>

<style>
*{box-sizing:border-box;font-family:'Arial',sans-serif}

body{
margin:0;
min-height:100vh;
background:linear-gradient(180deg,#ffb3c6,#ff758f,#ff9a76);
overflow:hidden;
display:flex;
justify-content:center;
align-items:center;
}

.screen{
position:absolute;
width:100%;
height:100%;
display:none;
justify-content:center;
align-items:center;
animation:fade 1.2s ease;
}

.screen.active{display:flex}

@keyframes fade{
from{opacity:0;transform:scale(.94)}
to{opacity:1;transform:scale(1)}
}

/* TARJETAS CON PROFUNDIDAD */
.card{
background:linear-gradient(145deg,#ffffff,#ffe6ec);
padding:38px;
border-radius:26px;
width:90%;
max-width:520px;
text-align:center;
box-shadow:
  0 25px 50px rgba(0,0,0,.25),
  inset 0 2px 8px rgba(255,255,255,.8);
position:relative;
}

/* BOTONES */
button{
padding:14px 26px;
border:none;
border-radius:30px;
background:linear-gradient(145deg,#ff4d6d,#ff758f);
color:#fff;
font-size:16px;
cursor:pointer;
margin:10px;
transition:.3s;
box-shadow:
  0 10px 25px rgba(0,0,0,.25),
  inset 0 2px 5px rgba(255,255,255,.5);
position:relative;
}

button:hover{transform:scale(1.1)}

/* MENSAJE FLOTANTE CORRECTO */
.correct-hint{
position:absolute;
bottom:120%;
left:50%;
transform:translateX(-50%) scale(0);
background:#fff0f3;
color:#ff4d6d;
padding:8px 14px;
border-radius:20px;
font-size:14px;
box-shadow:0 8px 18px rgba(0,0,0,.25);
white-space:nowrap;
pointer-events:none;
transition:.25s;
}

/* EMOJIS FLOTANTES */
.heart-float{
position:absolute;
bottom:-40px;
animation:floatUp linear forwards;
opacity:.9;
pointer-events:none;
}

@keyframes floatUp{
0%{transform:translateY(0);opacity:1}
100%{transform:translateY(-120vh);opacity:0}
}

/* SOBRE */
.envelope{
width:260px;
height:180px;
background:linear-gradient(145deg,#ffd6a5,#ffb703);
border-radius:16px;
position:relative;
cursor:pointer;
box-shadow:0 20px 40px rgba(0,0,0,.3);
}

.envelope::before{
content:"";
position:absolute;
width:100%;
height:100%;
background:linear-gradient(#ffd6a5,#ffb703);
clip-path:polygon(0 0,100% 0,50% 50%);
}

.seal{
position:absolute;
bottom:20px;
left:50%;
transform:translateX(-50%);
font-size:38px;
}

/* TEXTO ESCRITURA */
.typing{
white-space:pre-wrap;
border-right:2px solid #ff4d6d;
}
</style>
</head>

<body>

<!-- INTRO -->
<div class="screen active" id="intro">
<div class="card">
<h1>ğŸ’˜ Bienvenida ğŸ’˜</h1>
<p>PreparÃ© este juego con mucho amor  
por nuestro 14 de febrero ğŸŒ¹â¤ï¸</p>
<button onclick="go('valentin')">Empezar ğŸ’•</button>
</div>
</div>

<!-- SOBRE -->
<div class="screen" id="valentin">
<div class="card">
<h2>Para ti, Scarlett ğŸ’Œ</h2>
<p>ApretÃ¡ el corazÃ³n para abrir la carta â¤ï¸</p>
<div class="envelope" onclick="go('letter')">
<div class="seal">â¤ï¸</div>
</div>
</div>
</div>

<!-- CARTA -->
<div class="screen" id="letter">
<div class="card">
<h2>Â¿Quieres ser mi ValentÃ­n este aÃ±o? ğŸ’•</h2>
<button onclick="go('gameIntro')">SÃ­ ğŸ˜</button>
<button onclick="growYes()">No ğŸ˜…</button>
</div>
</div>

<!-- INTRO JUEGO -->
<div class="screen" id="gameIntro">
<div class="card">
<h2>ğŸ® Comencemos el juego â¤ï¸</h2>
<p>Veamos cuÃ¡nto recuerdas  
de nuestra historia juntos ğŸ¥°</p>
<button onclick="startGame()">Empezar preguntas ğŸ’–</button>
</div>
</div>

<!-- JUEGO -->
<div class="screen" id="game">
<div class="card">
<h2 id="question"></h2>
<div id="options"></div>
</div>
</div>

<!-- FINAL -->
<div class="screen" id="final">
<div class="card">
<h2>ğŸ’– Para Scarlett ğŸ’–</h2>
<p id="time"></p>
<p id="finalText" class="typing"></p>
<button onclick="window.open('https://music.youtube.com/watch?v=4eP6Z2HYMBU&si=SRN7HBwaXa-AyIEs')">
ğŸ¶ Reproducir nuestra canciÃ³n
</button>
</div>
</div>

<script>
/* PANTALLAS */
const screens=document.querySelectorAll('.screen')
function go(id){
screens.forEach(s=>s.classList.remove('active'))
document.getElementById(id).classList.add('active')
}

/* BOTÃ“N TRAMPA */
let scale=1
function growYes(){
scale+=.3
document.querySelector('#letter button').style.transform=`scale(${scale})`
}

/* PREGUNTAS */
const questions=[
{q:"Â¿DÃ³nde fue nuestro primer beso? ğŸ˜˜",o:["Metro","Mall","Paradero"],c:2},
{q:"Â¿QuÃ© equipos sigo?",o:["Colo Colo y Barcelona","La U y Real Madrid","Real Madrid y UniÃ³n SF","Ninguna"],c:3},
{q:"Â¿Uno de los primeros regalos?",o:["Cartera","Cuadro de conejito","Flores"],c:1},
{q:"Nombres de nuestros futuros hijos",o:["Christopher y Alana","MilÃ¡n y MÃ­a","Eustaquio y BrÃ­gida"],c:1},
{q:"Â¿Me amas mÃ¡s que yo a ti?",o:["SÃ­","No"],c:1}
]

let i=0
function startGame(){
go('game')
showQ()
}

function showQ(){
if(i>=questions.length){go('final');finalStart();return}
let q=questions[i]
question.innerText=q.q
options.innerHTML=""

q.o.forEach((t,n)=>{
let b=document.createElement('button')
b.innerText=t

let hint
if(n===q.c){
hint=document.createElement('div')
hint.className='correct-hint'
hint.innerText='Bien amor correcto poto loco ğŸ˜'
b.appendChild(hint)

b.addEventListener('mouseenter',()=>hint.style.transform='translateX(-50%) scale(1)')
b.addEventListener('mouseleave',()=>hint.style.transform='translateX(-50%) scale(0)')
b.addEventListener('touchstart',()=>hint.style.transform='translateX(-50%) scale(1)')
}

b.onclick=()=>{
if(hint) hint.remove()
if(n!==q.c) alert("Que sopenca jajaja ğŸ¤­ğŸ’” pero te amo muche â¤ï¸")
i++;showQ()
}

options.appendChild(b)
})
}

/* TIEMPO */
const startDate=new Date("2015-11-01")
function updateTime(){
let now=new Date()
let diff=now-startDate
let s=Math.floor(diff/1000)
let m=Math.floor(s/60);s%=60
let h=Math.floor(m/60);m%=60
let d=Math.floor(h/24);h%=24
time.innerText=`Llevamos 9 aÃ±os, 3 meses, ${d} dÃ­as, ${h} horas, ${m} minutos y ${s} segundos â¤ï¸`
}

/* FINAL */
function finalStart(){
setInterval(updateTime,1000)
typeText()
}

/* TEXTO FINAL */
const text=`Gracias por ser mi San ValentÃ­n por casi una dÃ©cada.

9 aÃ±os y 3 meses caminando juntos,
enfrentando dificultades,
creciendo y aprendiendo.

Estoy ansioso por todo lo que se nos viene viviendo juntos.
SÃ© que saldremos adelante de cualquier cosa.

Eres lo mejor que tengo en mi vida.
Te amo hoy, maÃ±ana y siempre. â¤ï¸`

function typeText(){
let n=0
let el=finalText
let t=setInterval(()=>{
el.innerText+=text[n];n++
if(n>=text.length)clearInterval(t)
},45)
}

/* EMOJIS SIEMPRE ACTIVOS */
function hearts(){
setInterval(()=>{
let h=document.createElement('div')
h.className='heart-float'
h.innerText=Math.random()>.5?"â¤ï¸":"ğŸ˜"
h.style.left=Math.random()*100+"vw"
h.style.fontSize=20+Math.random()*30+"px"
h.style.animationDuration=6+Math.random()*6+"s"
document.body.appendChild(h)
setTimeout(()=>h.remove(),12000)
},400)
}
hearts()
</script>

</body>
</html>
